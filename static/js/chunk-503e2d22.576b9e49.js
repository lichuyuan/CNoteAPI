(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-503e2d22"],{5723:function(e,a,r){"use strict";var t=r("a525"),n=r("ca00"),o={ACCOUNT:"account"};a["a"]={getPagination:function(e){return new Promise(function(a){Object(t["a"])(o.ACCOUNT,"GET",e).then(function(e){e.data.docs.map(function(e){e.typeName=n["a"][e.type]}),a(e.data)})})},getAllSimple:function(){return new Promise(function(e){Object(t["a"])("account/simple").then(function(a){a.data.map(function(e){return e.typeName=n["a"][e.type],e}),e(a.data)})})},add:function(e){var a=e.remark,r=void 0===a?"":a,n=e.type,s=e.huyaNickname,i=e.huyaId,m=e.huyaYyuid,u={remark:r,type:n,huya_nickname:s,huya_id:i,huya_yyuid:m};return Object(t["a"])("".concat(o.ACCOUNT),"POST",u)},updateOne:function(e){var a=e._id,r=e.remark,n=void 0===r?"":r,s=e.huya_nickname,i=e.huya_id,m=e.huya_yyuid,u={remark:n,huya_nickname:s,huya_id:i,huya_yyuid:m};return Object(t["a"])("".concat(o.ACCOUNT,"/").concat(a),"PATCH",u)},removeOne:function(e){return Object(t["a"])("".concat(o.ACCOUNT,"/").concat(e._id),"DELETE")}}},"7fa0":function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("a-card",{attrs:{"body-style":{padding:"24px 32px"},bordered:!1}},[r("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[r("a-form-item",{attrs:{label:"订单类型",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}},required:!1}},[r("a-radio-group",{model:{value:e.orderType,callback:function(a){e.orderType=a},expression:"orderType"}},[r("a-radio",{attrs:{value:"robot"}},[e._v("机器人")]),r("a-radio",{attrs:{value:"vip"}},[e._v("贵宾席")])],1)],1),r("a-form-item",{attrs:{label:"系统序号",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sysadminId",{rules:[{required:!0,message:"此处为必填项"}]}],expression:"[\n          'sysadminId',\n          {rules: [{ required: true, message: '此处为必填项' }]}\n        ]"}],attrs:{name:"sysadminId",placeholder:"请输入后台系统对应的序号"}})],1),r("a-form-item",{attrs:{label:"主播ID",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["streamerNickname",{rules:[{required:!0,message:"此处为必填项"}]}],expression:"[\n          'streamerNickname',\n          {rules: [{ required: true, message: '此处为必填项' }]}\n        ]"}],attrs:{name:"streamerNickname",placeholder:"请输入主播ID"}})],1),r("a-form-item",{attrs:{label:"直播间房号",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roomId",{rules:[{required:!0,message:"此处为必填项"}]}],expression:"[\n          'roomId',\n          {rules: [{ required: true, message: '此处为必填项' }]}\n        ]"}],attrs:{name:"roomId",placeholder:"请输入主播房间号"}})],1),r("a-form-item",{attrs:{label:"来源渠道",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["source",{rules:[{required:!0,message:"此处为必填项"}]}],expression:"[\n          'source',\n          {rules: [{ required: true, message: '此处为必填项' }]}\n        ]"}],attrs:{name:"source",placeholder:"请输入来源渠道"}})],1),r("a-form-item",{attrs:{label:"渠道买家ID",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["sourceBuyerId",{rules:[{required:!0,message:"此处为必填项"}]}],expression:"[\n          'sourceBuyerId',\n          {rules: [{ required: true, message: '此处为必填项' }]}\n        ]"}],attrs:{name:"sourceBuyerId",placeholder:"请输入渠道买家ID"}})],1),r("a-form-item",{attrs:{label:"生效日期",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-date-picker",{directives:[{name:"decorator",rawName:"v-decorator",value:["workingTime",{rules:[{required:!0,message:"请选择生效日期"}]}],expression:"[\n          'workingTime',\n          {rules: [{ required: true, message: '请选择生效日期' }]}\n        ]"}],staticStyle:{width:"100%"}})],1),r("a-form-item",{attrs:{label:"有效时长",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["validTime",{rules:[{required:!0,message:"此处为必填项"}]}],expression:"[\n          'validTime',\n          {rules: [{ required: true, message: '此处为必填项' }]}\n        ]"}],attrs:{name:"validTime",placeholder:"请输入有效时长"}})],1),"vip"===e.orderType?r("a-form-item",{attrs:{label:"占用账号",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["occupiedAccount",{rules:[{required:!0,message:"此处为必填项"}]}],expression:"[\n          'occupiedAccount',\n          {rules: [{ required: true, message: '此处为必填项' }]}\n        ]"}],attrs:{mode:"multiple"}},e._l(e.accounts,function(a,t){return r("a-select-option",{key:t,attrs:{value:a._id}},[e._v(e._s(a.typeName+"("+a.huya_id+")(被占用次数："+a.occupied_count+")"))])}),1)],1):e._e(),"robot"===e.orderType?r("a-form-item",{attrs:{label:"房管ID",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roomManageId",{rules:[{required:!0,message:"此处为必填项"}]}],expression:"[\n          'roomManageId',\n          {rules: [{ required: true, message: '此处为必填项' }]}\n        ]"}],attrs:{name:"roomManageId",placeholder:"请输入房管ID"}})],1):e._e(),"robot"===e.orderType?r("a-form-item",{attrs:{label:"房管yyuid",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["roomManageYyuid",{rules:[{required:!0,message:"此处为必填项"}]}],expression:"[\n          'roomManageYyuid',\n          {rules: [{ required: true, message: '此处为必填项' }]}\n        ]"}],attrs:{name:"roomManageYyuid",placeholder:"请输入房管yyuid"}})],1):e._e(),r("a-form-item",{attrs:{label:"备注",labelCol:{lg:{span:7},sm:{span:7}},wrapperCol:{lg:{span:10},sm:{span:17}}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["remark",{rules:[{required:!1}]}],expression:"[\n          'remark',\n          {rules: [{ required: false }]}\n        ]"}],attrs:{name:"remark"}})],1),r("a-form-item",{staticStyle:{"text-align":"center"},attrs:{wrapperCol:{span:24}}},[r("a-button",{attrs:{htmlType:"submit",type:"primary"}},[e._v("提交")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.saveSubmit}},[e._v("保存并继续添加")])],1)],1)],1)},n=[],o=r("f8b7"),s=r("5723"),i={name:"BaseForm",data:function(){return{orderType:"robot",accounts:[],form:this.$form.createForm(this)}},created:function(){var e=this;s["a"].getAllSimple().then(function(a){e.accounts=a})},methods:{handleSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFields(function(e,r){e||(console.log("Received values of form: ",r),r.type=a.orderType,o["a"].add(r).then(function(e){"robot"===a.orderType?a.$router.push({name:"robotOrderList"}):a.$router.push({name:"vipOrderList"})}))})},saveSubmit:function(e){var a=this;e.preventDefault(),this.form.validateFields(function(e,r){e||(console.log("Received values of form: ",r),r.type=a.orderType,o["a"].add(r).then(function(e){a.form.resetFields()}))})}}},m=i,u=r("2877"),l=Object(u["a"])(m,t,n,!1,null,null,null);a["default"]=l.exports},f8b7:function(e,a,r){"use strict";var t=r("a525"),n=r("c1df"),o=r.n(n),s={ORDER:"order"};a["a"]={getPagination:function(e,a){return new Promise(function(r){Object(t["a"])("".concat(e,"-order"),"GET",a).then(function(e){e.data.docs.map(function(e){e.working_time=o()(e.working_time).format("ll"),e.over_time=o()(e.over_time).format("ll")}),r(e)})})},add:function(e){var a=e.remark,r=void 0===a?"":a,n=e.type,o=e.sysadminId,i=e.streamerNickname,m=e.roomId,u=e.source,l=e.sourceBuyerId,d=e.workingTime,c=e.validTime,p=e.roomManageId,v=void 0===p?"":p,y=e.roomManageYyuid,g=void 0===y?"":y,f=e.occupiedAccount,_=void 0===f?[]:f,b={remark:r,type:n,sysadmin_id:o,streamer_nickname:i,room_id:m,source:u,source_buyer_id:l,working_time:d,valid_time:c,room_manage_id:v,room_manage_yyuid:g,occupied_account:_};return Object(t["a"])("".concat(n,"-").concat(s.ORDER),"POST",b)},updateOne:function(e){var a=e._id,r=e.remark,n=e.type,o=e.sysadmin_id,i=e.streamer_nickname,m=e.room_id,u=e.source,l=e.source_buyer_id,d=e.valid_time,c=e.room_manage_id,p=void 0===c?"":c,v=e.room_manage_yyuid,y=void 0===v?"":v,g={remark:r,sysadmin_id:o,streamer_nickname:i,room_id:m,source:u,source_buyer_id:l,valid_time:d,room_manage_id:p,room_manage_yyuid:y};return Object(t["a"])("".concat(n,"-").concat(s.ORDER,"/").concat(a),"PATCH",g)},removeOne:function(e){return Object(t["a"])("".concat(e.type,"-").concat(s.ORDER,"/").concat(e._id),"DELETE")}}}}]);