<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>TODO+ | 注册</title>

    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="/static/css/plugins/iCheck/custom.css" rel="stylesheet">
    <link href="/static/css/animate.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">
    <link href="/static/css/reset.css" rel="stylesheet">

</head>

<body class="gray-bg">

<div class="middle-box text-center loginscreen animated fadeInDown reset-main">
    <div>
        <div>
            <h3 class="logo-name">TODO+</h3>
        </div>
        <h3>Register to TODO+</h3>
        <p class="m-t reset-error-message"></p>
        <form class="m-t" id="form">
            <div class="form-group">
                <input type="text" class="form-control input-username" placeholder="Username" name="min">
            </div>
            <div class="form-group">
                <input type="password" class="form-control input-password" placeholder="Password" name="password">
            </div>
            <button class="btn btn-primary block full-width m-b">注册</button>

            <p class="text-muted text-center"><small>已经拥有一个账户？</small></p>
            <a class="btn btn-sm btn-white btn-block" href="/user/login">立即登录</a>
        </form>
    </div>
</div>

<!-- Mainly scripts -->
<script src="/static/js/jquery-2.1.1.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<!--<script src="/static/js/plugins/jquery-ui/jquery-ui.min.js"></script>-->
<!-- Jquery Validate -->
<script src="/static/js/plugins/validate/jquery.validate.min.js"></script>
<script>
  $(document).ready(function(){
      $("#form").validate({
          rules: {
              password: {
                  required: true,
                  minlength: 3
              },
              min: {
                  required: true,
                  minlength: 6
              },
          }
      });
      $('form').submit((event) => {
          event.preventDefault();
          $.ajax({
              type: 'POST',
              url: '/api/v1/user/register',
              data: {
                  username: $('.input-username').val(),
                  password: $('.input-password').val(),
              },
              success: (res) => {
                  console.log(res)
              }
          })
      })
  });
</script>
</body>

</html>
